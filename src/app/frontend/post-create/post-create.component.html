<mat-spinner *ngIf="isLoading">
</mat-spinner>

<form (submit)="save()" fxLayout="row wrap" fxLayoutAlign="space-around center" *ngIf="!isLoading"  [formGroup]="form">
  <mat-form-field fxFlex="70%" color="accent">
    <mat-label>Title of post</mat-label>
    <input name="title" type="text" matInput formControlName="title"/>
    <mat-error *ngIf="form.get('title').invalid">
      Please enter a post title.
    </mat-error>
  </mat-form-field>
  <div fxFlex="70">
    <button mat-stroked-button type="button" (click)="filePicker.click()">Pick image</button>
    <input type="file" fxHide #filePicker (change)="onImagePick($event)">
  </div>
  <div fxFlex="70" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid" class="image-preview">
    <img [src]="imagePreview" [alt]="form.value.title">
  </div>
  <mat-form-field fxFlex="70%" color="accent">
    <mat-label>Content of post</mat-label>
<!--    <input name="content" type="text" matInput autocomplete="off" required [(ngModel)]="content" #ContentModel="ngModel"-->
<!--        pattern="[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+.[a-z]{2,3}"/>-->
    <input name="content" type="text" matInput formControlName="content"/>
    <mat-error *ngIf="form.get('content').invalid">
      Please enter a post contete.
    </mat-error>
  </mat-form-field>
  <button type="submit" matSuffix mat-raised-button color="primary" [disabled]="!form.valid" fxFlex="100">Save post</button>
</form>
<!--<p>Here is content: {{content}}</p>-->

